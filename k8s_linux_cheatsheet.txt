ğŸ”º Kubernetes + Linux DevOps Cheat Sheet

ğŸ”¸ 1. Volumes (PVCs, Mounts, Permissions)

ğŸ“† Check if PVC is bound:

kubectl get pvc -n <namespace>
kubectl describe pvc <pvc-name> -n <namespace>

ğŸ“… Inside pod: Check if volume is mounted

kubectl exec -it <pod-name> -n <namespace> -- df -h

ğŸ“‚ List mount path & permissions

ls -ld /app/data
id
whoami
touch /app/data/test.txt

ğŸ”’ Fix permission issues (if allowed)

chown -R 1000:1000 /app/data
chmod -R 755 /app/data

ğŸ”¸ 2. Secrets & ConfigMaps

ğŸ”‘ View all secrets:

kubectl get secrets -n <namespace>
kubectl describe secret <secret-name> -n <namespace>

ğŸ§ª Inside pod: verify env vars & file mounts

env | grep MONGO
cat /etc/secrets/<filename>

ğŸ”¸ 3. Networking: Service Connectivity

ğŸŒ Check DNS resolution:

kubectl exec -it <pod-name> -n <namespace> -- nslookup <service-name>

ğŸ“† Check service port:

kubectl exec -it <pod-name> -n <namespace> -- curl <service-name>:<port>

ğŸ“± Ping other pods/services:

kubectl exec -it <pod> -n <ns> -- ping <service-name>

ğŸ”¸ 4. Probes (Liveness/Readiness)

ğŸ” Check current probe status:

kubectl describe pod <pod-name> -n <namespace>

ğŸ¥ª Inside pod: test the probe path

curl localhost:<port>/health
curl localhost:<port>/readiness

ğŸ”¸ 5. Init Containers

ğŸ‘¶ View init container status:

kubectl describe pod <pod-name> -n <namespace>

ğŸ“„ Get logs from init container:

kubectl logs <pod-name> -n <namespace> -c <init-container-name>

ğŸ”¸ 6. RBAC (Roles & Access Issues)

ğŸ” Who am I? What can I do?

kubectl auth can-i get pods --as=system:serviceaccount:<namespace>:<sa-name>

ğŸ” Describe service account attached to pod:

kubectl describe pod <pod-name> -n <namespace>

ğŸ”¸ 7. HPA (Horizontal Pod Autoscaling)

ğŸ“Š Check HPA status:

kubectl get hpa -n <namespace>
kubectl describe hpa <hpa-name> -n <namespace>

ğŸ“ˆ Check pod metrics (requires metrics-server):

kubectl top pods -n <namespace>

ğŸ”¸ 8. Logs + Crashes + Container Failures

ğŸ“‹ View logs of a container:

kubectl logs <pod-name> -n <namespace>
kubectl logs <pod-name> -n <namespace> -c <container-name>

ğŸ” Describe pod to check events:

kubectl describe pod <pod-name> -n <namespace>

ğŸ”¸ 9. Ingress / DNS / SSL

ğŸ”€ Check ingress rule:

kubectl get ingress -n <namespace>
kubectl describe ingress <name> -n <namespace>

ğŸŒ Test DNS & routing from browser or inside pod:

curl http://<ingress-host>/

ğŸ”¸ 10. General Pod Debugging

ğŸšª Check open ports:

kubectl exec -it <pod> -n <ns> -- netstat -tuln
kubectl exec -it <pod> -n <ns> -- ss -lnt

ğŸ” Inspect running processes:

kubectl exec -it <pod> -n <ns> -- ps aux

ğŸ’£ Kill hung process (rare case):

kill -9 <pid>

ğŸ”¸ 11. Node + Pod Resource Usage

ğŸ’» Check pod resource usage:

kubectl top pods -n <namespace>

ğŸ§± Check node resource usage:

kubectl top nodes

ğŸ“œ Bonus: Useful Aliases

alias k='kubectl'
alias kdp='kubectl describe pod'
alias kgs='kubectl get svc'
alias kl='kubectl logs'
alias ke='kubectl exec -it'
alias ktp='kubectl top pods'

âœ… Final Summary

Use Case

You Use kubectl For...

You Use Linux For...

K8s setup

Managing pods, PVCs, services

N/A

Debugging

Logs, events, configs

ps, df, curl, ls, env, etc.

Validation

Check objects (get, describe)

Check behavior inside containers